extends ../../layouts/default.pug

block main 
    .main
        h1 Bảng phân quyền

        if(records)
            div(data-records=records class="d-none")

            div(
                class="d-flex justify-content-end my-4"
            )   
                button(
                    button-update-permissions
                ).btn.btn-primary Cập nhật
            

            table(table-permissions).table.table-hover
                thead 
                    tr 
                        th Tính năng 
                        each item in records
                            th(class="text-center") #{item.title} 

                tbody 
                    tr(data-name="id" class="d-none")
                        td
                        each item in records 
                            td(class="text-center")
                                input(type="text" value=item.id)

                    //- Product category
                    tr 
                        td(colspan="3").fw-bold.table-active Danh mục sản phẩm
                    
                    tr(data-name="product-category_view") 
                        td Xem 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="product-category_create")  
                        td Thêm sản phẩm mới
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="product-category_edit") 
                        td Chỉnh sửa 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="product-category_delete")  
                        td Xóa 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox", name="")

                    //- Product
                    tr 
                        td(colspan="3").fw-bold.table-active Sản phẩm
                    
                    tr(data-name="product_view") 
                        td Xem 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="product_create")  
                        td Thêm mới
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="product_edit") 
                        td Chỉnh sửa 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="product_delete")  
                        td Xóa 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox", name="")    

                    //- Roles
                    tr 
                        td(colspan="3").fw-bold.table-active Nhóm quyền
                    
                    tr(data-name="roles_view") 
                        td Xem 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="roles_create")  
                        td Thêm mới
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="roles_edit") 
                        td Chỉnh sửa 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="roles_delete")  
                        td Xóa 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox", name="")    

                    tr(data-name="roles_permissions")  
                        td Phân quyền 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox", name="")    

                    //- Accounts
                    tr 
                        td(colspan="3").fw-bold.table-active Tài khoản
                    
                    tr(data-name="accounts_view") 
                        td Xem 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="accounts_create")  
                        td Thêm mới
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="accounts_edit") 
                        td Chỉnh sửa 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox")
                                            
                    tr(data-name="accounts_delete")  
                        td Xóa 
                        each item in records 
                            td(class="text-center") 
                                input(type="checkbox", name="")    



        else 
            p.alert-danger Chưa có nhóm quyền nào
            a(href=`${prefixAdmin}/roles/create`).btn.btn-primary Tạo nhóm quyền mới

        form(
            id="form-change-permissions"
            method="POST"
            action=`${prefixAdmin}/roles/permissions?_method=PATCH` 
            class="d-none"
        ) 
            div(class="form-group")
                input(
                    type="text"
                    class="form-control"
                    name="permissions"
                )

    script(src="/js/admin/roles.js") 